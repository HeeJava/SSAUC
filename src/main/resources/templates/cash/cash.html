<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="layout.html">
<head>
  <meta charset="UTF-8">
  <title>SSAUC 머니 페이지</title>
  <!-- 스타일시트 연결 -->
  <link rel="stylesheet" th:href="@{/css/mypage.css}">
  <link rel="stylesheet" th:href="@{/css/cash.css}">
</head>
<body>

<div class="cash-container" layout:fragment="content">
  <!-- 왼쪽 사이드바 (mypage와 동일) -->
  <div th:replace="~{mypage/mypage :: sidebar}"></div>

  <!-- 메인 컨텐츠 -->
  <main class="cash-main">
    <!-- SSAUC 머니 요약 -->
    <div class="cash-summary">
      <div class="cash-box">
        <p class="cash-title">🔨 SSAUC 머니 ></p>
        <div class="cash-box-content">
          <h2 class="cash-amount" th:text="${session.user.cash + ' 원'}">138,600 원</h2>
          <div class="cash-buttons">
            <button class="charge">충전</button>
            <button class="refund">환급</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 사용 내역 섹션 -->
    <div class="history-header">
      <h2> 쏙머니 내역</h2>
      <div class="date-filter">
        <label>조회 기간</label>
        <input type="date"> ~ <input type="date">
        <button class="search-btn">조회</button>
      </div>
    </div>

    <!-- 사용 내역 필터 -->
    <div class="filter-section">
      <div class="filter-buttons">
        <button class="filter-btn active" onclick="setActiveFilter(this)">전체</button>
        <button class="filter-btn" onclick="setActiveFilter(this)">결제 / 정산</button>
        <button class="filter-btn" onclick="setActiveFilter(this)">충전 / 환급</button>
      </div>
    </div>

    <!-- 사용 내역 테이블 -->
    <table class="cash-table">
      <thead>
      <tr>
        <th>구분</th>
        <th>날짜</th>
        <th>금액</th>
        <th>잔액</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>충전</td>
        <td>2025-02-05 18:36:27</td>
        <td>30,000</td>
        <td>138,600</td>
      </tr>
      <tr>
        <td>충전</td>
        <td>2025-02-05 18:36:27</td>
        <td>30,000</td>
        <td>138,600</td>
      </tr>
      <tr>
        <td>충전</td>
        <td>2025-02-05 18:36:27</td>
        <td>30,000</td>
        <td>138,600</td>
      </tr>
      </tbody>
    </table>

    <!-- 페이지네이션 -->
    <div class="pagination">
      <button><</button>
      <button class="active">1</button>
      <button>2</button>
      <button>3</button>
      <button>4</button>
      <button>5</button>
      <button>></button>
    </div>
  </main>
</div>

<!-- 필터 버튼 클릭 이벤트 -->
<script layout:fragment="script">
  function setActiveFilter(selectedButton) {
    // 모든 버튼에서 active 클래스를 제거하여 기본 스타일(흰색 배경, 검은색 테두리 및 글씨)을 적용
    const buttons = document.querySelectorAll(".filter-btn");
    buttons.forEach(button => {
      button.classList.remove("active");
    });
    // 클릭한 버튼에만 active 클래스를 추가하여 검은색 배경, 흰색 글씨를 적용
    selectedButton.classList.add("active");

    // 이후 필터 조건에 따른 데이터를 가져오는 로직을 추가할 수 있습니다.
  }
</script>

</body>
</html>
